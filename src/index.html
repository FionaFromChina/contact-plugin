<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery插件测试</title>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link href="../dist/css/jquery.terminalSelect.min.css" rel="stylesheet">
</head>
<body>


<div class="terminal-select" id="test1"></div>
<div class="terminal-select" id="test2"></div>
<script src="js/libs/jquery.js"></script>
<script src="../dist/js/jquery.terminalSelect.min.js"></script>
<script>

    var options = {
        initData:[{
            id:"1",
            displayName:"aa",
            avatar:"imgsrc",
            type:"2"
        }],
        contactUrl:"",//获取contact列表的URL
        inputName:"",//生成的inputDom的name属性值
        callback:{
            beforeDelete: function(item){
                //return false; 终端删除
                //这里可以做一些错误处理,比如某些item是不允许删除的,或者加是否确定要删除的confirm dialog等.

            },
            beforeAddedFromInput: function(inputValue){

                return{
                    "type":"2",
                    "number": "736827",
                    "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                    "name": "kelei的小鱼",
                    "id": "115423"
                };
                //return {}; 不添加

            },
            onSelect: function(items){
                //items,被选中的items

            },
            onfetchedUrlCalled : function(data){
                //data 结构:
                var data = [{
                    "title":"小鱼企业",
                    "lists":[{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "115423"
                    },{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "11541"
                    }]
                },{
                    "title":"分组2",
                    "lists":[{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "115488"
                    }]
                }];
                var errorMsg = "获取错误";
//                return data; //正确情况下返回
                return errorMsg;//"获取错误"; //错误情况下返回
            }
        }
    };

    $($('#test1')).terminalSelect();

    $($('#test2')).terminalSelect({
        inputName:"test2",
        initData:[{
            id:"3",
            name:"input1",
            avatar:"imgsrc",
            type:"2",
            number:"12"
        },{
            id:"4",
            name:"inpu2",
            avatar:"imgsrc",
            type:"2",
            number:"1900"
        }],
        contactUrl:"initData.json",
        terminalInfoUrl:"terminalUrlResponse.json?input=",
        callback:{
            onTerminalUrlCalled: function(inputVal) {
//                alert('添加的有问题!值是'+ inputVal + '不加了~~~');
                return{
                    id:"789",
                    name:"inputNameFromCallBack",
                    avatar:"imgsrc",
                    type:"2"
                }
            }
//            beforeDelete : function(id) {
//                alert('不能删除!!哼哼');
//              return false;
//            },
//            onSelect : function(items) {
//
//            }
//            onfetchedUrlCalled :function(data) {
//                return "error";
//            }
        }
    });

</script>
</body>
</html>