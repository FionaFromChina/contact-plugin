<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery插件测试</title>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link href="css/lib/modal.css" rel="stylesheet">
    <link href="css/lib/terminal-select.css" rel="stylesheet">
    <link href="css/lib/common.css" rel="stylesheet">
</head>
<body>
<!--<p class="error-info">-->
<!--错误-->
<!--</p>-->
<!--<div class="item-group" >-->
<!--<div class="group-title" >-->
<!--<label class="group-title-title group-title-title-checked">企业小鱼</label>-->
<!--</div>-->
<!--<div class="meeting-contact-item meeting-contact-item-checked" >-->
<!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >kelei的小鱼</label>-->
<!--<br >-->
<!--<label class="item-phone" >736827</label>-->
<!--</div>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >小鱼智能终端</label>-->
<!--<br >-->
<!--<label class="item-phone" >676434</label>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="item-group" >-->
<!--<div class="group-title" >-->
<!--<label class="checkbox-uncheck">企业小鱼</label>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >kelei的小鱼</label>-->
<!--<br >-->
<!--<label class="item-phone" >736827</label>-->
<!--</div>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >小鱼智能终端</label>-->
<!--<br >-->
<!--<label class="item-phone" >676434</label>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="item-group" >-->
<!--<div class="group-title" >-->
<!--<label class="checkbox-uncheck">企业小鱼</label>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >kelei的小鱼</label>-->
<!--<br >-->
<!--<label class="item-phone" >736827</label>-->
<!--</div>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >小鱼智能终端</label>-->
<!--<br >-->
<!--<label class="item-phone" >676434</label>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="item-group" >-->
<!--<div class="group-title" >-->
<!--<label class="checkbox-uncheck">企业小鱼</label>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >kelei的小鱼</label>-->
<!--<br >-->
<!--<label class="item-phone" >736827</label>-->
<!--</div>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >小鱼智能终端</label>-->
<!--<br >-->
<!--<label class="item-phone" >676434</label>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="item-group" >-->
<!--<div class="group-title" >-->
<!--<label class="checkbox-uncheck">企业小鱼</label>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >kelei的小鱼</label>-->
<!--<br >-->
<!--<label class="item-phone" >736827</label>-->
<!--</div>-->
<!--</div>-->
<!--<div class="meeting-contact-item" >-->
<!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
<!--<div class="item-detail" >-->
<!--<label class="item-name" >小鱼智能终端</label>-->
<!--<br >-->
<!--<label class="item-phone" >676434</label>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->


<!--<div class="nemo-mask-new" id="addItemModal">-->
    <!--<div class="inv-add-dialog" >-->
        <!--<div class="dialog-bar">-->
            <!--<span class="dialog-title">从企业通讯录邀请</span>-->
            <!--<span class="close-btn" >×</span>-->
        <!--</div>-->
        <!--<div class="content" >-->
            <!--<div class="input-search" >-->
                <!--<input placeholder="" value="" >-->
                <!--<div class="icon-search" ></div>-->
            <!--</div>-->
            <!--<div class="choose">-->
                <!--<div class="choose-all choose-all-checked">全选</div>-->
            <!--</div>-->
            <!--<div class="add-list">-->
                <!--<div class="item-group" >-->
                    <!--<div class="group-title" >-->
                        <!--<label class="checkbox-uncheck">企业小鱼</label>-->
                    <!--</div>-->
                    <!--<div class="meeting-contact-item" >-->
                        <!--<img src="http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859" class="item-img" >-->
                        <!--<div class="item-detail" >-->
                            <!--<label class="item-name" >kelei的小鱼</label>-->
                            <!--<br >-->
                            <!--<label class="item-phone" >736827</label>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="meeting-contact-item" >-->
                        <!--<img src="http://devcdn.ainemo.com/page/images/noicon.png" class="item-img" >-->
                        <!--<div class="item-detail" >-->
                            <!--<label class="item-name" >小鱼智能终端</label>-->
                            <!--<br >-->
                            <!--<label class="item-phone" >676434</label>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="btn-area inv-search-btn-area" >-->
            <!--<a class="btn btn-cancel" >取消</a>-->
            <!--<a class="btn btn-default" >确定</a>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->

<div class="terminal-select"></div>
<script src="js/libs/jquery.js"></script>
<!--<script src="js/libs/modal.js"></script>-->
<script src="js/jquery.getcontact.js"></script>
<script>

    var options = {
        initData:[{
            id:"1",
            displayName:"aa",
            avatar:"imgsrc",
            type:"2"
        }],
        contactUrl:"",//获取contact列表的URL
        inputName:"",//生成的inputDom的name属性值
        callback:{
            beforeDelete: function(item){
                //return false; 终端删除
                //这里可以做一些错误处理,比如某些item是不允许删除的,或者加是否确定要删除的confirm dialog等.

            },
            beforeAddedFromInput: function(inputValue){

                return{
                    "type":"2",
                    "number": "736827",
                    "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                    "name": "kelei的小鱼",
                    "id": "115423"
                };
                //return {}; 不添加

            },
            onSelect: function(items){
                //items,被选中的items

            },
            onfetchedUrlCalled : function(data){
                //data 结构:
                var data = [{
                    "title":"小鱼企业",
                    "lists":[{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "115423"
                    },{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "11541"
                    }]
                },{
                    "title":"分组2",
                    "lists":[{
                        "type":"2",
                        "number": "736827",
                        "avatar": "http://devavatar.ainemo.com/nemo/avatar/115488-07da5995-9592-4db5-a015-e90c77f14036-1483497017859",
                        "name": "kelei的小鱼",
                        "id": "115488"
                    }]
                }];
                var errorMsg = "获取错误";
//                return data; //正确情况下返回
                return errorMsg;//"获取错误"; //错误情况下返回
            }
        }
    };

    $('.terminal-select').terminalSelect({
        initData:[{
            id:"1",
            name:"aa",
            avatar:"imgsrc",
            type:"2",
            number:"12"
        },{
            id:"2",
            name:"bbb",
            avatar:"imgsrc",
            type:"2",
            number:"1900"
        }],
        contactUrl:"initData.json",
        callback:{
            beforeAddedFromInput: function(inputVal) {
//                alert('添加的有问题!值是'+ inputVal + '不加了~~~');
                return{
                    id:"789",
                    displayName:"asdjfkf",
                    avatar:"imgsrc",
                    type:"2"
                }
            }
//            beforeDelete : function(id) {
//                alert('不能删除!!哼哼');
//              return false;
//            },
//            onSelect : function(items) {
//
//            }
//            onfetchedUrlCalled :function(data) {
//                return "error";
//            }
        }
    });
    console.log($('.terminal-select').terminalSelect('getSelected'));



</script>
</body>
</html>